<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¾¡å€¤è¦³ãƒãƒƒãƒ—</title>
    <script src="https://cdn.jsdelivr.net/npm/mind-elixir@1.0.1/dist/mind-elixir.js"></script>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; }
        #mindmap { width: 100%; height: 80vh; border: 1px solid #ccc; margin: 20px auto; }
        button { margin: 5px; padding: 10px; font-size: 16px; }
    </style>
</head>
<body>

    <h1>ä¾¡å€¤è¦³ãƒãƒƒãƒ—</h1>
    <button onclick="saveMindMap()">ä¿å­˜</button>
    <button onclick="loadMindMap()">ãƒ­ãƒ¼ãƒ‰</button>
    <button onclick="clearMindMap()">ã‚¯ãƒªã‚¢</button>

    <div id="mindmap"></div>

    <script>
        let mind = new MindElixir({
            el: '#mindmap',
            direction: MindElixir.RIGHT, // ä¾¡å€¤è¦³ãƒãƒƒãƒ—ã¯å³å±•é–‹ãŒè¦‹ã‚„ã™ã„
            draggable: true,
            contextMenu: true,
            toolBar: true,
            nodeMenu: true,
            keypress: true
        });

        // ä¾¡å€¤è¦³ãƒãƒƒãƒ—å‘ã‘ã®åˆæœŸãƒãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿
        let initialData = {
            nodeData: {
                id: 'root',
                topic: 'ç§ã®ä¾¡å€¤è¦³ ğŸ’¡',
                children: [
                    { id: '1', topic: 'äººç”Ÿã®ä¾¡å€¤è¦³ ğŸŒ', children: [
                        { id: '1-1', topic: 'è‡ªç”± âœˆï¸' },
                        { id: '1-2', topic: 'æˆé•· ğŸ“š' }
                    ]},
                    { id: '2', topic: 'ä»•äº‹ã®ä¾¡å€¤è¦³ ğŸ’¼', children: [
                        { id: '2-1', topic: 'ã‚„ã‚ŠãŒã„ ğŸ”¥' },
                        { id: '2-2', topic: 'åå…¥ ğŸ’°' }
                    ]},
                    { id: '3', topic: 'å®¶æ— ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦', children: [
                        { id: '3-1', topic: 'æ„› â¤ï¸' },
                        { id: '3-2', topic: 'æ™‚é–“ â³' }
                    ]},
                    { id: '4', topic: 'å¥åº· ğŸ’ª', children: [
                        { id: '4-1', topic: 'é‹å‹• ğŸƒ' },
                        { id: '4-2', topic: 'é£Ÿäº‹ ğŸ' }
                    ]}
                ]
            },
            linkData: {}
        };

        mind.init(initialData);

        function saveMindMap() {
            localStorage.setItem('mindmapData', JSON.stringify(mind.getData()));
            alert('ä¾¡å€¤è¦³ãƒãƒƒãƒ—ã‚’ä¿å­˜ã—ã¾ã—ãŸï¼');
        }

        function loadMindMap() {
            const savedData = localStorage.getItem('mindmapData');
            if (savedData) {
                mind.refresh(JSON.parse(savedData));
                alert('ä¿å­˜ã—ãŸä¾¡å€¤è¦³ãƒãƒƒãƒ—ã‚’ãƒ­ãƒ¼ãƒ‰ã—ã¾ã—ãŸï¼');
            } else {
                alert('ä¿å­˜ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“ã€‚');
            }
        }

        function clearMindMap() {
            localStorage.removeItem('mindmapData');
            mind.init(initialData);
            alert('ä¾¡å€¤è¦³ãƒãƒƒãƒ—ã‚’ãƒªã‚»ãƒƒãƒˆã—ã¾ã—ãŸï¼');
        }
    </script>

</body>
</html>
